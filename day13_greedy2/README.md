# Day 13 算法题数学证明与算法理念

## 1. Jump Game II (LeetCode 45)

### 问题描述
给定一个非负整数数组 `nums`，每个元素表示当前位置可以跳的最大长度。要求最少跳跃次数到达数组末尾。

### 算法理念（贪心法）
1. 定义：
   - `cur_cover`：当前跳跃能到达的最远位置
   - `next_cover`：下一次跳跃能达到的最远位置
2. 遍历数组：
   - 实时更新 `next_cover = max(next_cover, i + nums[i])`
   - 当到达 `cur_cover` 边界时：
     - 增加一步跳跃
     - 更新 `cur_cover = next_cover`
3. 优化：
   - 如果当前跳跃能覆盖终点，提前结束

### 数学证明
- **正确性**：
  - 在每步跳跃的边界内，能达到的最远位置已经通过 `next_cover` 计算  
  - 一旦达到边界，必须跳一步，这样确保不会错过最远可达位置
- **最优性**：
  - 贪心策略保证每次跳跃都尽量跨越最远位置  
  - 若存在更优解，意味着在某步可以跳得更远 → 贪心已经覆盖 → 不存在更少步数的解  
- **时间复杂度**：O(n)

---

## 2. Gas Station (LeetCode 134)

### 问题描述
给定两个数组 `gas` 和 `cost`，表示每个加油站油量和从该站到下一站消耗的油量。要求找到一个起点，使汽车能绕环行驶一圈，如果存在。

### 算法理念（贪心法）
1. 剪枝：
   - 若 `sum(gas) < sum(cost)` → 无解
2. 遍历站点：
   - 定义 `current_tank` 表示当前油箱油量
   - 若油量 `< 0`，说明从当前起点到该站无法完成
   - 更新起点为下一站，油箱重置为 0
3. 最终返回 `start` 即可

### 数学证明
- **问题转化**：
  - 定义 `diff[i] = gas[i] - cost[i]`
  - 问题等价于：在环形数组中寻找一个起点，使任意前缀和 ≥ 0
- **正确性**：
  - 贪心过程中，只有在当前油箱 < 0 时才更新起点  
  - 已选择的区间油量均合法
- **最优性**：
  - 全局最小前缀和位置 +1 即为可行起点  
  - 可以通过交换法证明：任何最优解可以被替换成贪心选择的解，不减少可走区间
- **时间复杂度**：O(n)

---

## 3. Non-overlapping Intervals (LeetCode 435)

### 问题描述
给定一组区间 `[start_i, end_i)`，要求删除最少数量的区间，使剩下的区间互不重叠。  

等价问题：寻找最大互不重叠子集 \(S \subseteq \{1,...,n\}\)，最小删除数量：
\[
n - |S|
\]

### 算法理念（贪心法）
1. 按右端点升序排序：
\[
e_1 \le e_2 \le ... \le e_n
\]
2. 初始化：
   - `end = -∞`
   - `count = 0` （记录选择的互不重叠区间数量）
3. 遍历每个区间 `[s_i, e_i)`：
   - 如果 `s_i ≥ end` → 选择区间，`end = e_i`, `count++`
   - 否则跳过（即删除该区间）
4. 最终答案：
\[
\text{min\_remove} = n - count
\]

### 数学证明
- **正确性**：
  - 贪心每次选择最早结束且不与已选区间重叠 → 保证互不重叠
  - 每次选择后，剩余区间的选择自由度最大
- **最优性（交换法证明）**：
  1. 假设贪心子集为 `G`，最优解为 `O`  
  2. 按右端点排序，考虑第一个不同区间：
     - 贪心选择 `g_1`，最优解第一个区间 `o_1`
     - 由于 `e_{g_1} ≤ e_{o_1}`，将 `o_1` 替换为 `g_1` 不会减少可选区间
  3. 对剩余区间递归 → 最终得到 `G` 与最优解大小相同 → 删除数量最少
- **时间复杂度**：O(n log n)（排序）+ O(n)（贪心选择）
